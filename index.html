<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Programaciones mensuales</title>

  <!-- Config y tema -->
  <script src="./config/config.js?v=4"></script>
  <link rel="stylesheet" href="./config/theme.css?v=4">

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json?v=4" />
  <meta name="theme-color" content="#0b1421" />
  <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png">
  <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png">

  <!-- Preload style (oculta hasta que cargue) -->
  <style id="preload-style">body > *:not(#loader){visibility:hidden}</style>
  <script>document.documentElement.classList.add('loading')</script>

  <!-- Failsafe: quita loader aunque app.js no cargue -->
  <script>
    (function(){
      function kill(){
        document.documentElement.classList.remove('loading');
        document.getElementById('preload-style')?.remove();
        const ld=document.getElementById('loader');
        if(ld){
          ld.classList.add('hide');
          setTimeout(()=>{ try{ ld.remove(); }catch(e){} },800);
        }
      }
      window.addEventListener('DOMContentLoaded', kill, {once:true});
      setTimeout(kill, 2500); // backup
    })();
  </script>
</head>
<body>
  <!-- Loader -->
  <div id="loader" aria-label="Pantalla de carga"></div>

  <!-- Header -->
  <header id="header"></header>

  <!-- Contenido -->
  <main class="wrap" id="app">
    <section id="calendarios"></section>
    <section id="redes"></section>
    <section id="ubicacion-templo"></section>
    <section id="ubicacion-cultos"></section>
    <section id="proposito"></section>
    <section id="promos"></section>
  </main>

  <!-- Footer -->
  <footer id="footer" class="footer"></footer>

  <!-- Logo giratorio -->
  <img id="floating-logo" alt="Logo fijo" class="fixed-logo" />

  <!-- SDK Firebase (compat) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-messaging-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <!-- App -->
  <script src="./app.js?v=4"></script>
</body>
</html>